{"version":3,"file":"js/287.5f2fed94.js","mappings":"wOACEA,EAAAA,EAAAA,IAEM,aADJC,EAAAA,EAAAA,IAAyBC,K,qDCGnBC,EAAAA,EAAAA,GAGC,OAFCC,IAAI,kEACJC,MAAM,OAFR,S,WAOyB,W,0CAXjCC,EAAAA,EAAAA,IAiBcC,EAAAA,EAAA,M,kBAhBZ,IAeQ,EAfRN,EAAAA,EAAAA,IAeQO,EAAAA,EAAA,CAfD,kBAAW,C,kBAChB,IAOQ,EAPRP,EAAAA,EAAAA,IAOQQ,EAAAA,EAAA,CAPDC,KAAK,MAAE,C,kBACZ,IAKQ,EALRT,EAAAA,EAAAA,IAKQU,EAAAA,EAAA,CALDC,GAAG,mBAAoBC,QAAOC,EAAAA,YAArC,C,kBACE,IAGC,CAHDC,K,KADF,kB,OAOFd,EAAAA,EAAAA,IAEQQ,EAAAA,EAAA,CAFDC,KAAK,MAAE,C,kBACZ,IAA0C,EAA1CT,EAAAA,EAAAA,IAA0CU,EAAAA,EAAA,CAAlCE,QAAOC,EAAAA,YAAU,C,kBAAE,IAAO,M,KAAlC,kB,OAEFb,EAAAA,EAAAA,IAEQQ,EAAAA,EAAA,M,kBADL,IAAgC,EAAhCN,EAAAA,EAAAA,GAAgC,KAA5BU,QAAK,oBAAEC,EAAAA,aAAAA,EAAAA,eAAAA,KAAa,W,+CAOjC,GACEE,KAAM,YACNC,QAAS,CACPC,aACEC,OAAOC,MAAMC,KAAK,oCAEdF,OAAOC,MAAME,KAAKC,mBACpBJ,OAAOC,MAAMI,IAAIC,QAAQ,CACvBC,IAAK,kBACLC,QAAWC,IACTC,QAAQC,IAAIF,IAEdG,KAAOC,IACLH,QAAQC,IAAIE,MAGhBb,OAAOC,MAAME,KAAKW,oBAAeC,IAGnCf,OAAOC,MAAME,KAAKa,MAAM,CACtBR,QAAS,KACPR,OAAOC,MAAMI,IAAIC,QAAQ,CACvBC,IAAK,cACLU,KAAM,CACJC,cAAe,CAAC,wBAElBV,QAASC,IACP,MAAMU,EAAgBV,EAAIU,cACpBC,EAAQD,EAAcC,MAC5BV,QAAQC,IAAIS,GAGZC,IAAAA,IAAU,UACPC,MAAKb,IACJC,QAAQC,IAAIF,OAQlBG,KAAOC,IACLH,QAAQC,IAAIE,OAIlBD,KAAOC,IACLH,QAAQC,IAAIE,OAIlBU,cACEvB,OAAOC,MAAME,KAAKqB,QAAOf,IACvBC,QAAQC,IAAIF,OAGhBgB,aACE,MAAMC,EAAY,uBACZC,EAAc,mCACdpB,EAAM,yEAA2EmB,EAAY,iBAAmBC,EAAc,cACpI3B,OAAO4B,SAASC,QAAQtB,KAG5BuB,UAAY,IAAIC,EAAOC,KACrB,IACE,QAAqCjB,IAAlCiB,KAAKC,OAAOC,MAAMC,KAAKC,OAAqB,CAC7C,IAAIC,EAAcC,UAChB,MAAM7B,QAAY8B,MAAM,wCAAyC,CAC9DC,OAAQ,OAAQC,QAAS,CAAE,eAAgB,oBAC3CC,KAAMC,KAAKC,UAAU,CAAET,KAAO,GAAEJ,EAAKE,OAAOC,MAAMC,OAAQU,MAAQ,GAAEd,EAAKE,OAAOC,MAAMW,YACnF5B,QAAaR,EAAIqC,OACvBpC,QAAQC,IAAK,aAAYM,EAAKG,UAE9BiB,KAGN,MAAOU,GACLrC,QAAQC,IAAIoC,M,QC/FlB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFAA,GACEnD,KAAM,YACNoD,WAAY,CAAEC,UAAAA,IGJhB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://app/./src/views/Login.vue","webpack://app/./src/components/LoginForm.vue","webpack://app/./src/components/LoginForm.vue?dcb9","webpack://app/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div>\n    <login-form></login-form>\n  </div>\n</template>\n<script>\nimport LoginForm from '../components/LoginForm.vue'\nexport default {\n  name: \"LoginView\",\n  components: { LoginForm },\n\n}\n</script>","<template>\n  <v-container>\n    <v-row text-center>\n      <v-col cols=12>\n        <v-btn id=\"custom-login-btn\" @click=\"kakaoLogin\">\n          <img\n            src=\"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg\"\n            width=\"223\"\n          >\n        </v-btn>\n      </v-col>\n      <v-col cols=12>\n        <v-btn @click=\"naverLogin\">네이버 로그인</v-btn>\n      </v-col>\n      <v-col>\n         <a @click=\"kakaoLogout\">로그아웃</a>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n  name: \"LoginForm\",\n  methods: {\n    kakaoLogin(){\n      window.Kakao.init('beab026c95a7ce46903529b265eb8ef1') // Kakao Developers에서 요약 정보 -> JavaScript 키\n\n      if (window.Kakao.Auth.getAccessToken()) {\n        window.Kakao.API.request({\n          url: '/v1/user/unlink',\n          success:  (res) =>{\n            console.log(res)\n          },\n          fail: (error) => {\n            console.log(error)\n          },\n        })\n        window.Kakao.Auth.setAccessToken(undefined)\n      }\n\n      window.Kakao.Auth.login({\n        success: ()=> {\n          window.Kakao.API.request({\n            url: '/v2/user/me',\n            data: {\n              property_keys: [\"kakao_account.email\"]\n            },\n            success: res =>{\n              const kakao_account = res.kakao_account;\n              const email = kakao_account.email;\n              console.log(email);\n              // console.log(res);\n\n              axios.get('/users')\n                .then(res=>{\n                  console.log(res)\n                })\n              // axios.post('/users',{users:email})\n              //   .then(res=>{\n              //     console.log(res)\n              //   })\n              \n            },\n            fail: (error) => {\n              console.log(error)\n            },\n          })\n        },\n        fail: (error) => {\n          console.log(error)\n        },\n      })\n    },\n    kakaoLogout(){\n      window.Kakao.Auth.logout(res=>{\n        console.log(res)\n      })\n    },\n    naverLogin(){\n      const client_id = 'Uid0AeyzPvcOMG2OTaHU';\n      const callbackUrl = 'http://localhost:8080/naverlogin';\n      const url = 'https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=' + client_id + '&redirect_uri=' + callbackUrl + '&state=1234';\n      window.location.replace(url);\n    },\n  },\n  mounted() { var self = this; \n    try{ //네이버로 로그인할때만 실행 \n      if(this.$route.query.code.length !== undefined){\n        var callbackFuc = async () => { \n          const res = await fetch('https://locolhost/api/sns_login_naver', {\n             method: \"POST\", headers: { \"Content-Type\": \"application/json\", },\n             body: JSON.stringify({ code: `${self.$route.query.code}`, state: `${self.$route.query.state}`, }), }) \n          const data = await res.json(); \n          console.log(`네이버 로그인 : ${data.email}`) //네이버 로그인 인증 코드 (nodejs api) \n        } \n          callbackFuc(); \n        } \n      }\n    catch (e){ \n      console.log(e) \n      }\n    }\n\n}\n</script>","import { render } from \"./LoginForm.vue?vue&type=template&id=82aa9b0e\"\nimport script from \"./LoginForm.vue?vue&type=script&lang=js\"\nexport * from \"./LoginForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/r3417/tutorial/vue3/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=27138f82\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/r3417/tutorial/vue3/app/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_login_form","_createElementVNode","src","width","_createBlock","_component_v_container","_component_v_row","_component_v_col","cols","_component_v_btn","id","onClick","$options","_hoisted_1","name","methods","kakaoLogin","window","Kakao","init","Auth","getAccessToken","API","request","url","success","res","console","log","fail","error","setAccessToken","undefined","login","data","property_keys","kakao_account","email","axios","then","kakaoLogout","logout","naverLogin","client_id","callbackUrl","location","replace","mounted","self","this","$route","query","code","length","callbackFuc","async","fetch","method","headers","body","JSON","stringify","state","json","e","__exports__","components","LoginForm","render"],"sourceRoot":""}